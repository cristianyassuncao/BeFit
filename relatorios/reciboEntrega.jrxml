<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="reciboEntrega" language="groovy" columnCount="3" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="263" columnSpacing="6" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="0d3ab795-d871-40a5-89c9-c7b6fd0a575a">
	<property name="ireport.zoom" value="1.1"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="pedidos" class="java.lang.String"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT SEQ_PEDIDO NUMEROPEDIDO,
       CASE
          WHEN PES.TIP_PESSOA = 'PessoaFisica' THEN PES.NOM_PESSOA
          WHEN PES.TIP_PESSOA = 'PessoaJuridica' THEN PES.NOM_RAZAO_SOCIAL
       END NOMECLIENTE,
       CONCAT(TXT_ENDERECO, ', ', PED.TXT_NUMERO_ENDERECO) RUA,
       CONCAT(IF(TXT_COMPLEMENTO IS NULL OR TXT_COMPLEMENTO = '', TXT_COMPLEMENTO, CONCAT(TXT_COMPLEMENTO, ', ')), BAI.NOM_BAIRRO) COMPLEMENTO,
       PED.TXT_PONTO_REFERENCIA PONTOREFERENCIA,
       PED.TXT_NUMERO_TELEFONE TELEFONE,
       PED.NUM_VOLUMES NUMEROVOLUMES,
       PED.VAL_PAGAR VALORPEDIDO,
       IF(PED.VAL_TROCO_PARA IS NULL, PED.VAL_PAGAR, PED.VAL_TROCO_PARA) VALORARECEBER,
       PED.VAL_TROCO VALORTROCO,
       PED.DTH_ENTREGAR_A_PARTIR_DE APARTIRDE,
       PED.DTH_ENTREGAR_ATE ATE,
       (PED.VAL_PAGAR = PED.VAL_PAGO) PAGO
FROM tb_pedido PED,
     tb_cliente CLI,
     tb_pessoa PES,
     tb_bairro BAI
WHERE PED.SEQ_PEDIDO IN ($P!{pedidos})
AND   PED.SEQ_CLIENTE = CLI.SEQ_CLIENTE
AND   CLI.SEQ_PESSOA = PES.SEQ_PESSOA
AND   BAI.SEQ_BAIRRO = PED.SEQ_BAIRRO]]>
	</queryString>
	<field name="NUMEROPEDIDO" class="java.lang.Integer"/>
	<field name="NOMECLIENTE" class="java.lang.String"/>
	<field name="RUA" class="java.lang.String"/>
	<field name="COMPLEMENTO" class="java.lang.String"/>
	<field name="PONTOREFERENCIA" class="java.lang.String"/>
	<field name="TELEFONE" class="java.lang.String"/>
	<field name="NUMEROVOLUMES" class="java.math.BigDecimal"/>
	<field name="VALORPEDIDO" class="java.math.BigDecimal"/>
	<field name="VALORARECEBER" class="java.math.BigDecimal"/>
	<field name="VALORTROCO" class="java.math.BigDecimal"/>
	<field name="APARTIRDE" class="java.sql.Time"/>
	<field name="ATE" class="java.sql.Time"/>
	<field name="PAGO" class="java.lang.Long"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="228" splitType="Stretch">
			<rectangle>
				<reportElement stretchType="RelativeToBandHeight" x="0" y="0" width="262" height="225" uuid="c8b84868-1307-42fe-be14-3d448939f229"/>
				<graphicElement>
					<pen lineStyle="Dashed"/>
				</graphicElement>
			</rectangle>
			<image scaleImage="RetainShape" hAlign="Center" onErrorType="Blank">
				<reportElement mode="Opaque" x="2" y="77" width="257" height="80" uuid="f6806419-1b85-460d-9f11-d22f002b5ff5"/>
				<imageExpression><![CDATA[new URL("http://www.befitmcz.com.br/befit/assets/waterMarkBeFit.jpg")]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="3" y="3" width="50" height="20" uuid="363db760-c229-4c42-85da-0e16e4710f46"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Nº Pedido]]></text>
			</staticText>
			<textField pattern="0000000">
				<reportElement x="55" y="3" width="66" height="20" uuid="68a1fb1e-0895-471c-a826-2de823051739"/>
				<textFieldExpression><![CDATA[$F{NUMEROPEDIDO}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="3" y="23" width="38" height="20" uuid="9aec94ab-9295-4a23-977e-e18fc2c3aef7"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Cliente]]></text>
			</staticText>
			<textField>
				<reportElement x="41" y="23" width="221" height="20" uuid="33e4879b-213a-421f-aff5-d73dbabed514"/>
				<textFieldExpression><![CDATA[$F{NOMECLIENTE}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="3" y="43" width="50" height="20" uuid="1654ab6b-88c0-488a-a68b-fbb50f9292be"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Endereço]]></text>
			</staticText>
			<textField isStretchWithOverflow="true">
				<reportElement x="53" y="43" width="209" height="20" uuid="1d7162d7-0f4b-480e-892c-8dda616c11be"/>
				<textFieldExpression><![CDATA[$F{RUA}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="3" y="63" width="259" height="20" isRemoveLineWhenBlank="true" uuid="1cfafe89-fddf-4a91-8a27-bc187c804747"/>
				<textFieldExpression><![CDATA[$F{COMPLEMENTO}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="3" y="83" width="259" height="20" isRemoveLineWhenBlank="true" backcolor="#FFFFFF" uuid="bd48d147-773d-4947-88ca-117c2de1ac21"/>
				<textFieldExpression><![CDATA[$F{PONTOREFERENCIA}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="123" y="3" width="47" height="20" uuid="685149ef-f085-4347-94c1-3bc89759c4e8"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Telefone]]></text>
			</staticText>
			<textField pattern="">
				<reportElement x="170" y="3" width="92" height="20" uuid="ce473fa0-5e8c-497a-aa19-7acd55baa550"/>
				<textFieldExpression><![CDATA[$F{TELEFONE}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="3" y="103" width="64" height="20" uuid="1149f2b6-b61f-4bfc-9698-0def7bf9fce6"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Nº Volumes]]></text>
			</staticText>
			<textField>
				<reportElement positionType="Float" x="67" y="103" width="38" height="20" uuid="d65accee-c3f1-424a-9d0c-da2c477d70c6"/>
				<textFieldExpression><![CDATA[$F{NUMEROVOLUMES}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="3" y="123" width="100" height="20" uuid="086cc2a9-ff9f-4a45-bd15-d62110f51f69"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Entregar a partir de]]></text>
			</staticText>
			<textField pattern="HH:mm" isBlankWhenNull="true">
				<reportElement positionType="Float" x="105" y="123" width="52" height="20" uuid="a915994d-039f-4efb-b74a-a11f86d2367e"/>
				<textFieldExpression><![CDATA[$F{APARTIRDE}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="161" y="123" width="36" height="20" uuid="df4a64cf-f899-419d-868f-ac958b3aebf5"/>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Até]]></text>
			</staticText>
			<textField pattern="HH:mm" isBlankWhenNull="true">
				<reportElement positionType="Float" x="199" y="123" width="63" height="20" uuid="616fd87c-27c2-4aaa-8257-0919caec02cc"/>
				<textFieldExpression><![CDATA[$F{ATE}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="3" y="162" width="98" height="20" isRemoveLineWhenBlank="true" uuid="74bb0cd3-d0b0-4a40-8d9b-495336029a99">
					<printWhenExpression><![CDATA[$F{PAGO} == 0]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Valor Pedido]]></text>
			</staticText>
			<textField>
				<reportElement positionType="Float" x="108" y="162" width="100" height="20" isRemoveLineWhenBlank="true" uuid="b269c1b0-da2f-4418-a8e3-2f5d33dfb1a3">
					<printWhenExpression><![CDATA[$F{PAGO} == 0]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{VALORPEDIDO}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="3" y="182" width="100" height="20" isRemoveLineWhenBlank="true" uuid="60d00676-99e4-4f9e-a7fc-cda4d7d90ef7">
					<printWhenExpression><![CDATA[$F{PAGO} == 0]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Valor a Receber]]></text>
			</staticText>
			<textField>
				<reportElement positionType="Float" x="108" y="182" width="100" height="20" isRemoveLineWhenBlank="true" uuid="2824227c-37f7-4686-8ab9-bde3d7964305">
					<printWhenExpression><![CDATA[$F{PAGO} == 0]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{VALORARECEBER}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="3" y="202" width="100" height="20" isRemoveLineWhenBlank="true" uuid="aa6e76f1-2678-485b-abbf-e06896bd834d">
					<printWhenExpression><![CDATA[$F{PAGO} == 0]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Troco]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="108" y="202" width="100" height="20" isRemoveLineWhenBlank="true" uuid="0148b253-7f1a-4b07-80ed-5bdd57e134d9">
					<printWhenExpression><![CDATA[$F{PAGO} == 0]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{VALORTROCO}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="4" y="171" width="258" height="20" isRemoveLineWhenBlank="true" uuid="e26ec377-8715-44e2-b441-e14d171c5e28">
					<printWhenExpression><![CDATA[$F{PAGO} == 1]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Pago]]></text>
			</staticText>
			<subreport>
				<reportElement positionType="Float" x="2" y="145" width="259" height="12" isRemoveLineWhenBlank="true" uuid="8bf22313-cbd4-4de4-b684-83c536fe6be0"/>
				<subreportParameter name="pedido">
					<subreportParameterExpression><![CDATA[$F{NUMEROPEDIDO}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "reciboEntregaItensPedido.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
</jasperReport>
